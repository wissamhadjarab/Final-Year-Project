<!DOCTYPE html><html lang="en"><head><script>var __ezHttpConsent={setByCat:function(src,tagType,attributes,category,force,customSetScriptFn=null){var setScript=function(){if(force||window.ezTcfConsent[category]){if(typeof customSetScriptFn==='function'){customSetScriptFn();}else{var scriptElement=document.createElement(tagType);scriptElement.src=src;attributes.forEach(function(attr){for(var key in attr){if(attr.hasOwnProperty(key)){scriptElement.setAttribute(key,attr[key]);}}});var firstScript=document.getElementsByTagName(tagType)[0];firstScript.parentNode.insertBefore(scriptElement,firstScript);}}};if(force||(window.ezTcfConsent&&window.ezTcfConsent.loaded)){setScript();}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){setScript();}else{console.error("cannot get ez consent data");force=true;setScript();}});}else{force=true;setScript();console.error("getEzConsentData is not a function");}},};</script>
<script>var ezTcfConsent=window.ezTcfConsent?window.ezTcfConsent:{loaded:false,store_info:false,develop_and_improve_services:false,measure_ad_performance:false,measure_content_performance:false,select_basic_ads:false,create_ad_profile:false,select_personalized_ads:false,create_content_profile:false,select_personalized_content:false,understand_audiences:false,use_limited_data_to_select_content:false,};function getEzConsentData(){return new Promise(function(resolve){document.addEventListener("ezConsentEvent",function(event){var ezTcfConsent=event.detail.ezTcfConsent;resolve(ezTcfConsent);});});}</script>
<script>if(typeof _setEzCookies!=='function'){function _setEzCookies(ezConsentData){var cookies=window.ezCookieQueue;for(var i=0;i<cookies.length;i++){var cookie=cookies[i];if(ezConsentData&&ezConsentData.loaded&&ezConsentData[cookie.tcfCategory]){document.cookie=cookie.name+"="+cookie.value;}}}}
window.ezCookieQueue=window.ezCookieQueue||[];if(typeof addEzCookies!=='function'){function addEzCookies(arr){window.ezCookieQueue=[...window.ezCookieQueue,...arr];}}
addEzCookies([{name:"ezopvc_173770",value:"1; Path=/; Domain=plantuml.com; Expires=Tue, 18 Nov 2025 19:04:49 UTC",tcfCategory:"understand_audiences",isEzoic:"true",},{name:"ezoab_173770",value:"mod100; Path=/; Domain=plantuml.com; Max-Age=7200",tcfCategory:"store_info",isEzoic:"true",},{name:"active_template::173770",value:"pub_site.1763490889; Path=/; Domain=plantuml.com; Expires=Thu, 20 Nov 2025 18:34:49 UTC",tcfCategory:"store_info",isEzoic:"true",},{name:"ezoadgid_173770",value:"-1; Path=/; Domain=plantuml.com; Max-Age=1800",tcfCategory:"understand_audiences",isEzoic:"true",},{name:"ezosuibasgeneris-1",value:"e6517752-1f8b-4807-6385-40be3650831e; Path=/; Domain=plantuml.com; Expires=Wed, 18 Nov 2026 18:34:49 UTC; Secure; SameSite=None",tcfCategory:"understand_audiences",isEzoic:"true",}]);if(window.ezTcfConsent&&window.ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else if(typeof getEzConsentData==="function"){getEzConsentData().then(function(ezTcfConsent){if(ezTcfConsent&&ezTcfConsent.loaded){_setEzCookies(window.ezTcfConsent);}else{console.error("cannot get ez consent data");_setEzCookies(window.ezTcfConsent);}});}else{console.error("getEzConsentData is not a function");_setEzCookies(window.ezTcfConsent);}</script><script type="text/javascript" data-ezscrex='false' data-cfasync='false'>window._ezaq = Object.assign({"edge_cache_status":31,"edge_response_time":845,"url":"https://editor.plantuml.com/uml/SoWkIImgAStDuUBISCiiAYvHA2rEJKuiJjNaqd3Coo_9I2s2YoWa5YjeX3eRQN91HHH2dOtXR0sVnEAIc3nanQ7E9bnS3gbvAI3p0G00"}, typeof window._ezaq !== "undefined" ? window._ezaq : {});</script><script type="text/javascript" data-ezscrex='false' data-cfasync='false'>window._ezaq = Object.assign({"ab_test_id":"mod100"}, typeof window._ezaq !== "undefined" ? window._ezaq : {});window.__ez=window.__ez||{};window.__ez.tf={};</script><script data-ezscrex='false' data-cfasync='false' data-pagespeed-no-defer>var __ez=__ez||{};__ez.stms=Date.now();__ez.evt={};__ez.script={};__ez.ck=__ez.ck||{};__ez.template={};__ez.template.isOrig=false;window.__ezScriptHost="//www.ezojs.com";__ez.queue=__ez.queue||function(){var e=0,i=0,t=[],n=!1,o=[],r=[],s=!0,a=function(e,i,n,o,r,s,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,d=this;this.name=e,this.funcName=i,this.parameters=null===n?null:w(n)?n:[n],this.isBlock=o,this.blockedBy=r,this.deleteWhenComplete=s,this.isError=!1,this.isComplete=!1,this.isInitialized=!1,this.proceedIfError=a,this.fWindow=l,this.isTimeDelay=!1,this.process=function(){f("... func = "+e),d.isInitialized=!0,d.isComplete=!0,f("... func.apply: "+e);var i=d.funcName.split("."),n=null,o=this.fWindow||window;i.length>3||(n=3===i.length?o[i[0]][i[1]][i[2]]:2===i.length?o[i[0]][i[1]]:o[d.funcName]),null!=n&&n.apply(null,this.parameters),!0===d.deleteWhenComplete&&delete t[e],!0===d.isBlock&&(f("----- F'D: "+d.name),m())}},l=function(e,i,t,n,o,r,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:window,l=this;this.name=e,this.path=i,this.async=o,this.defer=r,this.isBlock=t,this.blockedBy=n,this.isInitialized=!1,this.isError=!1,this.isComplete=!1,this.proceedIfError=s,this.fWindow=a,this.isTimeDelay=!1,this.isPath=function(e){return"/"===e[0]&&"/"!==e[1]},this.getSrc=function(e){return void 0!==window.__ezScriptHost&&this.isPath(e)&&"banger.js"!==this.name?window.__ezScriptHost+e:e},this.process=function(){l.isInitialized=!0,f("... file = "+e);var i=this.fWindow?this.fWindow.document:document,t=i.createElement("script");t.src=this.getSrc(this.path),!0===o?t.async=!0:!0===r&&(t.defer=!0),t.onerror=function(){var e={url:window.location.href,name:l.name,path:l.path,user_agent:window.navigator.userAgent};"undefined"!=typeof _ezaq&&(e.pageview_id=_ezaq.page_view_id);var i=encodeURIComponent(JSON.stringify(e)),t=new XMLHttpRequest;t.open("GET","//g.ezoic.net/ezqlog?d="+i,!0),t.send(),f("----- ERR'D: "+l.name),l.isError=!0,!0===l.isBlock&&m()},t.onreadystatechange=t.onload=function(){var e=t.readyState;f("----- F'D: "+l.name),e&&!/loaded|complete/.test(e)||(l.isComplete=!0,!0===l.isBlock&&m())},i.getElementsByTagName("head")[0].appendChild(t)}},d=function(e,i){this.name=e,this.path="",this.async=!1,this.defer=!1,this.isBlock=!1,this.blockedBy=[],this.isInitialized=!0,this.isError=!1,this.isComplete=i,this.proceedIfError=!1,this.isTimeDelay=!1,this.process=function(){}};function c(e,i,n,s,a,d,c,u,f){var m=new l(e,i,n,s,a,d,c,f);!0===u?o[e]=m:r[e]=m,t[e]=m,h(m)}function h(e){!0!==u(e)&&0!=s&&e.process()}function u(e){if(!0===e.isTimeDelay&&!1===n)return f(e.name+" blocked = TIME DELAY!"),!0;if(w(e.blockedBy))for(var i=0;i<e.blockedBy.length;i++){var o=e.blockedBy[i];if(!1===t.hasOwnProperty(o))return f(e.name+" blocked = "+o),!0;if(!0===e.proceedIfError&&!0===t[o].isError)return!1;if(!1===t[o].isComplete)return f(e.name+" blocked = "+o),!0}return!1}function f(e){var i=window.location.href,t=new RegExp("[?&]ezq=([^&#]*)","i").exec(i);"1"===(t?t[1]:null)&&console.debug(e)}function m(){++e>200||(f("let's go"),p(o),p(r))}function p(e){for(var i in e)if(!1!==e.hasOwnProperty(i)){var t=e[i];!0===t.isComplete||u(t)||!0===t.isInitialized||!0===t.isError?!0===t.isError?f(t.name+": error"):!0===t.isComplete?f(t.name+": complete already"):!0===t.isInitialized&&f(t.name+": initialized already"):t.process()}}function w(e){return"[object Array]"==Object.prototype.toString.call(e)}return window.addEventListener("load",(function(){setTimeout((function(){n=!0,f("TDELAY -----"),m()}),5e3)}),!1),{addFile:c,addFileOnce:function(e,i,n,o,r,s,a,l,d){t[e]||c(e,i,n,o,r,s,a,l,d)},addDelayFile:function(e,i){var n=new l(e,i,!1,[],!1,!1,!0);n.isTimeDelay=!0,f(e+" ...  FILE! TDELAY"),r[e]=n,t[e]=n,h(n)},addFunc:function(e,n,s,l,d,c,u,f,m,p){!0===c&&(e=e+"_"+i++);var w=new a(e,n,s,l,d,u,f,p);!0===m?o[e]=w:r[e]=w,t[e]=w,h(w)},addDelayFunc:function(e,i,n){var o=new a(e,i,n,!1,[],!0,!0);o.isTimeDelay=!0,f(e+" ...  FUNCTION! TDELAY"),r[e]=o,t[e]=o,h(o)},items:t,processAll:m,setallowLoad:function(e){s=e},markLoaded:function(e){if(e&&0!==e.length){if(e in t){var i=t[e];!0===i.isComplete?f(i.name+" "+e+": error loaded duplicate"):(i.isComplete=!0,i.isInitialized=!0)}else t[e]=new d(e,!0);f("markLoaded dummyfile: "+t[e].name)}},logWhatsBlocked:function(){for(var e in t)!1!==t.hasOwnProperty(e)&&u(t[e])}}}();__ez.evt.add=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n()},__ez.evt.remove=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):delete e["on"+t]};__ez.script.add=function(e){var t=document.createElement("script");t.src=e,t.async=!0,t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)};__ez.dot=__ez.dot||{};__ez.queue.addFileOnce('/detroitchicago/boise.js', '/detroitchicago/boise.js?gcb=195-5&cb=5', true, [], true, false, true, false);__ez.queue.addFileOnce('/parsonsmaize/abilene.js', '/parsonsmaize/abilene.js?gcb=195-5&cb=dc112bb7ea', true, [], true, false, true, false);__ez.queue.addFileOnce('/parsonsmaize/mulvane.js', '/parsonsmaize/mulvane.js?gcb=195-5&cb=e75e48eec0', true, ['/parsonsmaize/abilene.js'], true, false, true, false);__ez.queue.addFileOnce('/detroitchicago/birmingham.js', '/detroitchicago/birmingham.js?gcb=195-5&cb=539c47377c', true, ['/parsonsmaize/abilene.js'], true, false, true, false);</script>
<script data-ezscrex="false" data-cfasync="false">__ez.ssaf=[];__ez.sswp=4;__ez.ssv=865159;__ez.sshsdef=false;</script>
<script data-ezscrex="false" data-cfasync="false">(function(){if("function"===typeof window.CustomEvent)return!1;window.CustomEvent=function(c,a){a=a||{bubbles:!1,cancelable:!1,detail:null};var b=document.createEvent("CustomEvent");b.initCustomEvent(c,a.bubbles,a.cancelable,a.detail);return b}})();</script><script data-ezscrex="false" data-cfasync="false">__ez.queue.addFile('/detroitchicago/tulsa.js', '/detroitchicago/tulsa.js?gcb=195-5&cb=9', false, [], true, false, true, false);</script>
<script data-ezscrex="false" type="text/javascript" data-cfasync="false">window._ezaq = Object.assign({"ad_cache_level":1,"adpicker_placement_cnt":0,"ai_placeholder_cache_level":1,"ai_placeholder_placement_cnt":-1,"domain":"plantuml.com","domain_id":173770,"ezcache_level":0,"ezcache_skip_code":14,"has_bad_image":0,"has_bad_words":0,"is_sitespeed":1,"lt_cache_level":0,"response_size":42915,"response_size_orig":32051,"response_time_orig":945,"template_id":134,"url":"https://editor.plantuml.com/uml/SoWkIImgAStDuUBISCiiAYvHA2rEJKuiJjNaqd3Coo_9I2s2YoWa5YjeX3eRQN91HHH2dOtXR0sVnEAIc3nanQ7E9bnS3gbvAI3p0G00","word_count":32,"worst_bad_word_level":0}, typeof window._ezaq !== "undefined" ? window._ezaq : {});__ez.queue.markLoaded('ezaqBaseReady');</script>
<link rel='preload' as='script' href='//securepubads.g.doubleclick.net/tag/js/gpt.js'>
<link rel='preload' as='script' href='//go.ezodn.com/hb/dall.js?cb=195-5-137'>
<script type="text/javascript">(function(){function storageAvailable(type){var storage;try{storage=window[type];var x='__storage_test__';storage.setItem(x,x);storage.removeItem(x);return true;}
catch(e){return e instanceof DOMException&&(e.code===22||e.code===1014||e.name==='QuotaExceededError'||e.name==='NS_ERROR_DOM_QUOTA_REACHED')&&(storage&&storage.length!==0);}}
function remove_ama_config(){if(storageAvailable('localStorage')){localStorage.removeItem("google_ama_config");}}
remove_ama_config()})()</script>
<script type="text/javascript">var ezoicTestActive = true</script>
<script type='text/javascript' data-ezscrex='false' data-cfasync='false'>
window.ezAnalyticsStatic = true;

function analyticsAddScript(script) {
	var ezDynamic = document.createElement('script');
	ezDynamic.type = 'text/javascript';
	ezDynamic.innerHTML = script;
	document.head.appendChild(ezDynamic);
}
function getCookiesWithPrefix() {
    var allCookies = document.cookie.split(';');
    var cookiesWithPrefix = {};

    for (var i = 0; i < allCookies.length; i++) {
        var cookie = allCookies[i].trim();

        for (var j = 0; j < arguments.length; j++) {
            var prefix = arguments[j];
            if (cookie.indexOf(prefix) === 0) {
                var cookieParts = cookie.split('=');
                var cookieName = cookieParts[0];
                var cookieValue = cookieParts.slice(1).join('=');
                cookiesWithPrefix[cookieName] = decodeURIComponent(cookieValue);
                break; // Once matched, no need to check other prefixes
            }
        }
    }

    return cookiesWithPrefix;
}
function productAnalytics() {
	var d = {"pr":[6,3,1],"aop":{"14":0,"26":0,"4":134,"7":0},"omd5":"9e41f8acccb727dc5717f5ffe732186c"};
	d.u = _ezaq.url;
	d.p = _ezaq.page_view_id;
	d.v = _ezaq.visit_uuid;
	d.ab = _ezaq.ab_test_id;
	d.e = JSON.stringify(_ezaq);
	d.ref = document.referrer;
	d.c = getCookiesWithPrefix('active_template', 'ez', 'lp_');
	if(typeof ez_utmParams !== 'undefined') {
		d.utm = ez_utmParams;
	}

	var dataText = JSON.stringify(d);
	var xhr = new XMLHttpRequest();
	xhr.open('POST','/ezais/analytics?cb=1', true);
	xhr.onload = function () {
		if (xhr.status!=200) {
            return;
		}

        if(document.readyState !== 'loading') {
            analyticsAddScript(xhr.response);
            return;
        }

        var eventFunc = function() {
            if(document.readyState === 'loading') {
                return;
            }
            document.removeEventListener('readystatechange', eventFunc, false);
            analyticsAddScript(xhr.response);
        };

        document.addEventListener('readystatechange', eventFunc, false);
	};
	xhr.setRequestHeader('Content-Type','text/plain');
	xhr.send(dataText);
}
__ez.queue.addFunc("productAnalytics", "productAnalytics", null, true, ['ezaqBaseReady'], false, false, false, true);
</script><script type="text/javascript" data-ezscrex="false" data-cfasync="false" async="">
function productEzoicAds() {
if(window.ezDisableAds === true) {
	return;
}
window.google_reactive_ads_global_state = {
                adCount: {},
                floatingAdsStacking: { maxZIndexListeners: [], maxZIndexRestrictions: {}, nextRestrictionId: 0 },
                messageValidationEnabled: false,
                reactiveTypeDisabledByPublisher: {},
                reactiveTypeEnabledInAsfe: {},
                sideRailAvailableSpace: [],
                sideRailOverlappableElements: [],
                stateForType: {},
                tagSpecificState: {},
                wasPlaTagProcessed: true,
                wasReactiveAdConfigReceived: { 1: true, 2: true, 8: true },
                wasReactiveAdVisible: {},
                wasReactiveTagRequestSent: true,
                description: "Can't disable auto ads programmatically on the page, so here we are!"
            };
var d = {"ab":"","km":{},"pv":"","vu":"bbd8ad50-304d-46d9-57d2-d53a4ebf68c3","r":{"r":[{"p":" ezoic_pub_ad_placeholder-676-sidebar_middle-160x600-676-nonexxxnonexxxxxxezmaxscaleval100 ","s":676,"h":600,"w":160,"r":true},{"p":" ezoic_pub_ad_placeholder-100-bottom_floating-970x90-100-nonexxxnonexxxxxxezmaxscaleval100 ","s":100,"h":90,"w":970,"r":true}],"a":{"100":true,"12":true,"6":true,"676":true},"g":-1,"l":{"0":2,"1":3,"2":2,"3":1,"4":-1,"5":-1},"m":{"0":2,"1":3,"2":2,"3":1,"4":-1,"5":-1},"v":0,"ve":false,"hr":false,"sa":false},"cr":"","tid":134,"tn":"pub_site","url":"","wc":32,"ff":1,"dhh":""};
d.ab = _ezaq.ab_test_id;
d.pv = _ezaq.page_view_id;
d.vu = _ezaq.visit_uuid;
d.url = window.location.href;
var dynamicAddScript = function(script) {
	if(window.ezFinishedStatic === true) {
		console.error("attempted to load dynamic script again");
		return;
	}
	var errorMessages = [];
	function errorHandler(event) {
	  var errorObj = event.error;
	  if (errorObj && errorObj.stack && errorObj.stack.indexOf('dynamicAddScript') !== -1) {
		var errorMessage = {
		  Message: event.message,
		  LineNo: event.lineno,
		  ColumnNo: event.colno,
		  Stack: errorObj.stack
		};
		errorMessages.push(errorMessage);
	  }

	  if (typeof window.onerror === 'function') {
		window.onerror.apply(this, arguments);
	  }
	}
 	window.addEventListener('error', errorHandler);

	var ezDynamic = document.createElement('script');
	ezDynamic.type = 'text/javascript';
	ezDynamic.innerHTML = script;
	document.head.appendChild(ezDynamic);

	window.removeEventListener('error', errorHandler);
	if (window.ezFinishedStatic !== true || typeof window.ezstaticerrors !== 'undefined') {
		d.Script = script;
		d.ErrorMessages = JSON.stringify(errorMessages);
		d.ErrorStaticMessages = window.ezstaticerrors || '';
		var dataTxt = JSON.stringify(d);
		if (dataTxt.length > 0) {
			var logXHR = new XMLHttpRequest();
			logXHR.open('POST','/ezais/log?cb=1', true);
			logXHR.setRequestHeader('Content-Type','application/json');
			logXHR.send(dataTxt);
		}
	}
};
var dataText = JSON.stringify(d);
if (dataText.length > 0) {
	var startTime = Date.now() - __ez.stms;

	var xhr = new XMLHttpRequest();
	xhr.open('POST','/ezais/dynamic?cb=1', true);
	xhr.onload = function () {
		if (xhr.status!=200) {
            return;
		}

        if(document.readyState !== 'loading') {
            dynamicAddScript(xhr.response);
            return;
        }

        var eventFunc = function() {
            if(document.readyState === 'loading') {
                return;
            }
            document.removeEventListener('readystatechange', eventFunc, false);
            dynamicAddScript(xhr.response);
        };

        document.addEventListener('readystatechange', eventFunc, false);
	};
	xhr.setRequestHeader('Content-Type','text/plain');
	xhr.send(dataText);
}
}

function callDynamicAfterConsent() {
	if (window.__tcfapi) {
		window.__tcfapi("addEventListener", 2, function (tcdata, success) {
			if (success) {
				if(tcdata.gdprApplies == true) {
					if(tcdata.eventStatus === "useractioncomplete" || tcdata.eventStatus === "tcloaded") {
						__ez.queue.addFunc("productEzoicAds", "productEzoicAds", null, true, ['ezaqReady'], false, false, false, true);
					}
				} else {
					__ez.queue.addFunc("productEzoicAds", "productEzoicAds", null, true, ['ezaqReady'], false, false, false, true);
				}
			}
		});
	} else {
		__ez.queue.addFunc("productEzoicAds", "productEzoicAds", null, true, ['ezaqReady'], false, false, false, true);
	}
}


if (window.__tcfapi) {
	callDynamicAfterConsent();
} else {
	if (typeof window.ezCMPQueue !== "undefined") {
		window.ezCMPQueue.push(callDynamicAfterConsent);
	} else {
		__ez.queue.addFunc("productEzoicAds", "productEzoicAds", null, true, ['ezaqReady'], false, false, false, true);
	}
}
</script><base href="https://editor.plantuml.com/uml/SoWkIImgAStDuUBISCiiAYvHA2rEJKuiJjNaqd3Coo_9I2s2YoWa5YjeX3eRQN91HHH2dOtXR0sVnEAIc3nanQ7E9bnS3gbvAI3p0G00"/>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>    
    <link rel="shortcut icon" href="https://plantuml.com/favicon.ico"/>
    <title>PlantUML Editor</title>
    <style>
        html {
            margin: 0;
            padding: 0;
            height: 100%;
        }
        body {
            margin: 0 0 0 170px;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        a {
            color: #007bff;
            text-decoration: none;
        }
        a:hover, a:focus {
            color: #0056b3;
            text-decoration: underline;
        }

#header {
    background-color: #f8f7e3;
    border: 2px solid #d6d1ab;
    padding: 10px;
    margin: 10px;
    text-align: center;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

        #footer {
            margin: 0 0 0 30px;
            padding: 10px;
        }

	#external_container {
   		display: flex;
   		flex-direction: column;
  		height: calc(100vh - 120px);
        overflow: hidden;
	}

        #container {
            display: flex;
            flex: 1;
            min-height: 300px;
            height: 300px;
            width: 100%;
            overflow: hidden;
        }

        #editor {
            flex-grow: 0;
            flex-shrink: 0;
            width: calc(50% - 160px);
            min-width: 200px;
        }

        #resizer {
            width: 5px;
            background-color: #f1f1f1;
            cursor: col-resize;
        }

        #image-container {
            flex-grow: 100;
            flex-shrink: 100;
            padding: 10px;
            overflow: auto;
        }

        #cola, #colb {
            flex-grow: 0;
            flex-shrink: 1;
        }

        #image-container img {
            max-width: 100%;
            height: auto;
        }


    #side-panel {
        position: absolute;
        top: 0;
        left: 3px;
        width: 165px;
        height: 100%;
    }

    </style>

    <style>
        table {
            width: 100%;
            margin: 1px auto;
            border-collapse: collapse;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 1px 5px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            cursor: pointer;
        }
        tbody tr:hover {
            background-color: #f1f1f1;
        }
        table button {
            padding: 1px;
            background-color: #f6f8fa; /* Lighter grey */
            color: #24292e; /* Dark text color */
            border: 1px solid #d1d5da; /* Light grey border */
            border-radius: 6px;
            cursor: pointer;
            margin: 0;
        }
        table button:hover {
            background-color: #e1e4e8; /* Slightly darker on hover */
        }
    </style>

    <style>
        /* Style for the text area */
        #encoded-input {
            width: 100%;
            padding: 2px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        /* Apply the flex layout to the container */
        .tooltip-container {
            display: flex;
            align-items: center; /* Vertically align the elements */
            position: relative;
        }

        /* Style for the input */
        #encoded-input {
            flex-grow: 1; /* Allow the input to take up as much space as possible */
            margin-right: 10px; /* Space between the encoded input and the Decode button */
        }

        /* Style for the Decode button */
        .decode-btn, .btn {
            padding: 4px 8px;
            background-color: #f6f8fa; /* Lighter grey */
            color: #24292e; /* Dark text color */
            border: 1px solid #d1d5da; /* Light grey border */
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .decode-btn {
            white-space: nowrap;
        }

        /* Style for the copy button */
        .btn {
            margin: 10px 0; /* Adds some spacing above and below */
        }

        .btn:hover,.decode-btn:hover {
            background-color: #e1e4e8; /* Slightly darker on hover */
        }

        /* Style for the delete button */
        .delete-btn {
            padding: 2px 8px;
            background-color: #f6f8fa; /* Lighter grey */
            color: #24292e; /* Dark text color */
            border: 1px solid #d1d5da; /* Light grey border */
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin: 2px 0; /* Adds some spacing above and below */
        }

        .delete-btn:hover {
            background-color: #e1e4e8; /* Slightly darker on hover */
        }

    </style>

    <style>
        /* Styles for the background overlay */
        #back-div {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Transparent dark background */
            z-index: 999; /* Back div behind load_div */
        }

        /* Styles for the file loader div */
        #load-div {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white; /* Light background */
            border: 1px solid #ccc;
            padding: 20px; /* Increase padding for a larger look */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 70%;  /* Increased width */
            height: 60%; /* Increased height */
            overflow-y: auto; /* Add scroll if content overflows vertically */
            z-index: 1000; /* Ensure the div is in the foreground */
        }

        /* Style for the delete button */
        .delete-btn {
            cursor: pointer;
        }
    </style>


    <style>
        /* Dark Mode Styles */
        body.dark-mode {
            background-color: #1b1b1b;
            color: #ffffff;
        }

        body.dark-mode a {
            color: #48a9e0;
        }
        body.dark-mode a:hover, body.dark-mode a:focus {
            color: #76c7f4;
        }

        body.dark-mode #header {
            background-color: #313139;
        }
        body.dark-mode #resizer {
            background-color: #313139;
        }

        body.dark-mode #footer {
            background-color: #1e1e1e;
        }

        body.dark-mode table {
            background-color: #1e1e1e;
            color: #ffffff;
            border: 1px solid #444;
        }

        body.dark-mode table button {
            background-color: #444;
            color: #ffffff;
        }

        body.dark-mode tbody tr:hover {
            background-color: #333;
        }

        body.dark-mode #encoded-input {
            background-color: #333;
            color: #ffffff;
            border: 1px solid #444;
        }

        body.dark-mode .decode-btn,body.dark-mode .btn {
            background-color: #444;
            color: #ffffff;
            border: 1px solid #444;
        }
        body.dark-mode .decode-btn:hover, body.dark-mode .btn:hover {
            background-color: #777;
        }

        /* Dark mode styles for back-div and load-div */
        body.dark-mode #back-div {
            background-color: rgba(0, 0, 0, 0.7); /* Slightly darker transparent background for dark mode */
        }

        body.dark-mode #load-div {
            background-color: #2a2a2a; /* Dark background for the load div */
            border: 1px solid #555; /* Darker border for the load div */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); /* A more subtle shadow for dark mode */
        }
    </style>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/ace.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/ext-language_tools.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.12.2/brython.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.12.2/brython_stdlib.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css"/>
<script type='text/javascript'>
var ezoTemplate = 'pub_site';
var ezouid = '1';
var ezoFormfactor = '1';
</script><script data-ezscrex="false" type='text/javascript'>
var soc_app_id = '0';
var did = 173770;
var ezdomain = 'plantuml.com';
var ezoicSearchable = 1;
</script>
<script async data-ezscrex="false" data-cfasync="false" src="//www.humix.com/video.js"></script>
<script>
		window.__ezOneTapClientId = '626901221629-15ss1s412okbv1qg834f6e3h8chm6ubk.apps.googleusercontent.com';
	</script></head>
<body onload="brython()">

<div id="side-panel">
<!-- Ezoic - editor_left - sidebar_middle -->
<span id="ezoic-pub-ad-placeholder-676"></span><span data-ez-ph-id="676" style="display:flex !important;padding:0;margin-left:0px !important;align-items:center;min-height:600px;max-width:100% !important;float:none !important;margin-right:0px !important;margin-bottom:15px !important;flex-direction:column !important;min-width:160px;line-height:0px;box-sizing:content-box;margin-top:15px !important;"></span>
<!-- End Ezoic - editor_left - sidebar_middle -->
</div>

<div id="external_container">

<div id="header">
    ðŸŽ‰ Discover the future <a href="https://plantuml.com" target="_blank">PlantUML</a> Web Editor!
    Share your ideas and feedback on <a href="https://github.com/plantuml/plantuml-server/issues" target="_blank">GitHub</a>
    ðŸš€ or by email ðŸ“© (<a href="mailto:plantuml@gmail.com">plantuml@gmail.com</a>)
</div>

<div id="container">
    <div id="cola">
    </div>
    <div id="editor"></div>
    <div id="resizer"></div>
    <div id="image-container">
        <img id="diagram-image" src="" style="display: none;"/>
    </div>
    <div id="colb">
    </div>
</div>


<div id="footer">
    <!-- Button to copy the text with an icon -->
    <button class="btn" id="copy-btn">
        <i class="fas fa-copy"></i> Copy
    </button>

    <!-- Button to paste the text with an icon -->
    <button class="btn" id="paste-btn">
        <i class="fas fa-paste"></i> Paste
    </button>

    <!-- Button to save with an icon -->
    <button class="btn" id="save-btn">
        <i class="fas fa-save"></i> Save
    </button>

    <!-- Button to load with an icon -->
    <button class="btn" id="load-btn">
        <i class="fas fa-folder-open"></i> List
    </button>

    <!-- Toggle Button for Dark/Light Mode -->
    <button class="btn" id="toggle-mode-btn">
        <i class="fas fa-adjust"></i> Mode
    </button>

    <!-- New Button to Update URL with an icon -->
    <button class="btn" id="update-url-btn">
        <i class="fas fa-link"></i> SyncURL
    </button>
    
    <!-- New Button "Copy to MD" -->
    <button class="btn" id="copy-md-btn">
        <i class="fa-brands fa-markdown"></i> Copy
    </button>

    <!-- New Button to Open a New Window with an icon -->
    <button class="btn" id="open-window-btn">
        <i class="fas fa-external-link"></i> Open Window
    </button>
    
    <!-- Hyperlink to PNG image -->
    <a href="" target="_blank" id="png-link" title="PNG Image" style="margin-left: 25px;"><i class="fas fa-image"></i></a>

    <!-- Hyperlink to SVG image -->
    <a href="" target="_blank" id="svg-link" title="SVG Image" style="margin-left: 15px;"><i class="fas fa-vector-square"></i></a>

    <!-- Hyperlink to ASCII Art image -->
    <a href="" target="_blank" id="ascii-link" title="ASCII Art" style="margin-left: 15px;"><i class="fas fa-font"></i></a>

    <div class="tooltip-container">
        <input id="encoded-input" type="text" value=""/>

        <button class="decode-btn" id="decode-btn">
            <i class="fas fa-unlock-alt"></i> Decode
        </button>
    </div>
</div>

</div>

<style>
    .ace_style {
        color: #111;
    }
    .dark-mode .ace_style {
        color: #eee;
    }

    .ace_keyword2 {
        color: #333;
        font-weight: bold;
    }
    .dark-mode .ace_keyword2 {
        color: #E0E0E0;
    }
    .ace_preprocessor {
        color: #22863a;
        font-weight: bold;
    }
    .dark-mode .ace_preprocessor {
        color: #79b8ff;
        font-weight: bold;
    }

    .ace_keyword {
        color: #b31d28;
    }

    .ace_identifier {
        color: #0366d6;
    }
    .dark-mode .ace_identifier {
        color: #539bf5;
    }


    .ace_bracket {
        font-weight: bold;
    }

</style>


<script>
    ace.define("ace/mode/plantuml", ["require", "exports", "ace/lib/oop", "ace/mode/text", "ace/mode/text_highlight_rules"], function(acequire, exports) {
        var oop = acequire("ace/lib/oop");
        var TextMode = acequire("ace/mode/text").Mode;
        var TextHighlightRules = acequire("ace/mode/text_highlight_rules").TextHighlightRules;

        function PlantUMLHighlightRules() {
            this.$rules = {
                "start": [
                    { token: "style", regex: "^\\<style\\>", next: "style" },
                    { token: "comment", regex: "^\\s*'.*" },
                    { token: "comment", regex: "/'", next: "comment" },
                    { token: "keyword2", regex: "@startuml|@enduml" },
                    { token: "keyword", regex: "[-+<>=]+" },
                    { token: "keyword", regex: "\\b(abstract|action|actor|agent|annotation|archimate|artifact|boundary|card|class|cloud|collections|component|control|database|diamond|entity|enum|exception|file|folder|frame|hexagon|interface|json|label|map|metaclass|node|object|package|participant|person|process|protocol|queue|rectangle|relationship|stack|state|storage|struct|usecase)\\b" },
                    { token: "keyword", regex: "\\b(across|activate|again|allow_mixing|allowmixing|also|alt|as|attribute|attributes|autonumber|bold|bottom|box|break|caption|center|circle|circled|circles|color|create|critical|dashed|deactivate|description|destroy|detach|dotted|down|else|elseif|empty|end|endcaption|endfooter|endheader|endif|endlegend|endtitle|endwhile|false|field|fields|footbox|footer|fork|group|header|hide|hnote|if|is|italic|kill|left|left to right direction|legend|link|loop|mainframe|member|members|method|methods|namespace|newpage|normal|note|of|on|opt|order|over|package|page|par|partition|plain|private|protected|public|ref|repeat|return|right|rnote|rotate|show|skin|skinparam|split|sprite|start|stereotype|stereotypes|stop|style|then|title|together|top|top to bottom direction|true|up|while)\\b" },
                    { token: "string", regex: '".*?"' },
                    { token: "preprocessor", regex: "^![a-zA-Z_]+" },
                    { token: "bracket", regex: "[{}\\[\\]]" },
                    { token: "identifier", regex: "\\$[a-zA-Z_][a-zA-Z0-9_]*\\b" },
                    { token: "constant.numeric", regex: "\\b[0-9]+" }
                ],
                "style": [
                    { token: "style", regex: "^\\</style\\>", next: "start" },
                    { token: "style", regex: ".+" }
                ],
                "comment": [
                    { token: "comment", regex: ".*?'/", next: "start" },
                    { token: "comment", regex: ".+" }
                ]
            };
            this.normalizeRules();

        }
        oop.inherits(PlantUMLHighlightRules, TextHighlightRules);

        function PlantUMLMode() {
            this.HighlightRules = PlantUMLHighlightRules;
            this.blockComment = { start: "/'", end: "'/" };
        }
        oop.inherits(PlantUMLMode, TextMode);

        exports.Mode = PlantUMLMode;
    });

    ace.edit("editor").session.setMode("ace/mode/plantuml");
    if (window.localStorage.getItem("toggle_mode") === "dark") {
        document.body.classList.toggle("dark-mode");
        ace.edit("editor").setTheme("ace/theme/dracula");
    } else {
        ace.edit("editor").setTheme("ace/theme/github");
    }
</script>


<script type="text/python">
    from browser import document, window, html, timer
    import re

    external_win = None

    def encode6bit(b):
        if b < 10:
            return chr(48 + b)
        if b < 36:
            return chr(65 + (b - 10))
        if b < 62:
            return chr(97 + (b - 36))
        return '-' if b == 62 else '_'

    def append3bytes(b1, b2, b3):
        c1 = b1 >> 2
        c2 = ((b1 & 0x3) << 4) | (b2 >> 4)
        c3 = ((b2 & 0xF) << 2) | (b3 >> 6)
        c4 = b3 & 0x3F
        return encode6bit(c1 & 0x3F) + encode6bit(c2 & 0x3F) + encode6bit(c3 & 0x3F) + encode6bit(c4 & 0x3F)

    def encode64(data):
        r = ""
        i = 0
        while i < len(data):
            if i + 2 == len(data):
                r += append3bytes(data[i], data[i + 1], 0)
            elif i + 1 == len(data):
                r += append3bytes(data[i], 0, 0)
            else:
                r += append3bytes(data[i], data[i + 1], data[i + 2])
            i += 3
        return r


    def decode64(data):
        r = ""
        i = 0
        while i < len(data):
            b1 = decode6bit(data[i])
            b2 = decode6bit(data[i + 1])
            b3 = decode6bit(data[i + 2])
            b4 = decode6bit(data[i + 3])

            c1 = (b1 << 2) | (b2 >> 4)
            c2 = ((b2 & 0xF) << 4) | (b3 >> 2)
            c3 = ((b3 & 0x3) << 6) | b4

            r += chr(c1)
            if b3 != 64:
                r += chr(c2)
            if b4 != 64:
                r += chr(c3)

            i += 4

        return r

    def decode6bit(c):
        if '0' <= c <= '9':
            return ord(c) - 48
        if 'A' <= c <= 'Z':
            return ord(c) - 65 + 10
        if 'a' <= c <= 'z':
            return ord(c) - 97 + 36
        return 62 if c == '-' else 63 if c == '_' else 64  # Padding character

    def compress_and_encode(data):
        byte_array = window.TextEncoder.new("utf-8").encode(data)
        compressed = window.pako.deflateRaw(byte_array)
        compressed_list = list(compressed)  # Direct conversion to list
        return encode64(compressed_list)


    def decompress_and_decode(data):
        decoded_base64 = decode64(data)
        # Convert the decoded string into a byte array
        byteArray = window.Uint8Array.new([ord(c) for c in decoded_base64])
        inflated = window.pako.inflateRaw(byteArray)
        return window.TextDecoder.new("utf-8").decode(inflated)


    # Function to retrieve URL parameters
    def get_url_param(param_name):
        url_params = window.location.search
        params = dict(p.split('=') for p in url_params[1:].split('&') if '=' in p)
        return params.get(param_name, None)

    match = re.search(r'[-_0-9A-Za-z]{20,}', window.location.href)
    if match:
        text_diagram_encoded = match.group(0)
    else:
        text_diagram_encoded = "SoWkIImgAStDuNBCoKnELT2rKt3AJrAmKiX8pSd9vt98pKi1IG80"

    plantuml_server = "https://img.plantuml.biz"

    def image_update(encoded):
        global external_win
        document["encoded-input"].value = encoded
        is_dark_mode = 'dark-mode' in document.body.classList
        suffix = 'd' if is_dark_mode else ''
        img_url = f"{plantuml_server}/plantuml/{suffix}png/{encoded}"
        document["png-link"].attrs['href'] = img_url
        document["svg-link"].attrs['href'] = f"{plantuml_server}/plantuml/{suffix}svg/{encoded}"
        document["ascii-link"].attrs['href'] = f"{plantuml_server}/plantuml/txt/{encoded}"

        def on_image_load(event):
            width = img_element.width
            height = img_element.height
            print(f"{width=} {height=}")

        if external_win and not external_win.closed:
            img_element = external_win.document.getElementById("external-image")
            img_element.src = img_url
            #print(external_win.document["external-image"])
            #img_element = external_win.document["external-image"]
        else:
            img_element = document["diagram-image"]
            img_element.bind("load", on_image_load)
            img_element.attrs['src'] = img_url
            img_element.style['display'] = 'block'  # set visible



    # Display or use the retrieved value
    text_diagram = decompress_and_decode(text_diagram_encoded)

    image_update(text_diagram_encoded)

    # Using custom mode in the ACE editor
    editor = window.ace.edit("editor")

    # Set the initial content
    editor.setValue(text_diagram, 1)   # The second argument places the cursor at the end of the content

    # Optional settings
    editor.setOptions({
        "fontSize": "10pt",
        "showLineNumbers": True,
        "tabSize": 4
    })

    # Variable to store the timer ID
    timeout_id = None

    def editor_change(*args):
        global timeout_id
        # Retrieve the value from the editor
        v = editor.getValue()
        if len(v)>0:
            encoded = compress_and_encode(v)
            print(f"editor_change {len(v)=} {encoded=}")
            document["encoded-input"].value = encoded
            if timeout_id:
                timer.clear_timeout(timeout_id)

            timeout_id = timer.set_timeout(lambda: image_update(encoded), 1500)


    # Bind the change event to the editor_change function
    editor.session.on('change', editor_change)

    # Resize logic
    resizer = document["resizer"]
    editorDiv = document["editor"]
    imageContainer = document["image-container"]

    def resize(event):
        containerRect = document["container"].getBoundingClientRect()
        colaRect = document["cola"].getBoundingClientRect()

        newWidth = event.clientX - containerRect.left - colaRect.width

        editorDiv.style.width = f'{newWidth}px'

    def stopResize(event):
        document.unbind('mousemove', resize)
        document.unbind('mouseup', stopResize)

    def startResize(event):
        event.preventDefault()
        document.bind('mousemove', resize)
        document.bind('mouseup', stopResize)

    resizer.bind('mousedown', startResize)


    # Function that will be called when the encoded value changes
    def click_on_decode(event):
        input_value = document["encoded-input"].value
        # Check if a slash is present and retrieve the text after the last slash
        if '/' in input_value:
            input_value = input_value.rpartition('/')[-1]  # Take the part after the last slash

        print(f"on_encoded_input_change {input_value=}")
        uml = decompress_and_decode(input_value)
        print(f"on_encoded_input_change {uml=}")
        editor.setValue(uml)


    # Bind the function to the 'click' event of the "Decode" button
    document["decode-btn"].bind("click", click_on_decode)

    # Function to copy the diagram text to the clipboard
    def copy_to_clipboard(event):
        editor_value = window.ace.edit("editor").getValue()  # Get the text from the editor
        window.navigator.clipboard.writeText(editor_value)  # Copy to the clipboard

    # Bind the copy_to_clipboard function to the "Copy" button
    document["copy-btn"].bind("click", copy_to_clipboard)

    # Function to toggle dark/light mode
    def toggle_mode(event):
        document.body.classList.toggle("dark-mode")
        # Update ACE editor theme based on the mode
        if 'dark-mode' in document.body.classList:
            editor.setTheme("ace/theme/dracula")
            window.localStorage.setItem("toggle_mode", "dark")
        else:
            editor.setTheme("ace/theme/github")
            window.localStorage.setItem("toggle_mode", "light")

        # Re-update the diagram image source based on the encoded value
        current_encoded = document["encoded-input"].value
        image_update(current_encoded)

    # Bind the function to the 'click' event of the toggle button
    document["toggle-mode-btn"].bind("click", toggle_mode)

    # Function to sync url
    def update_url(event):
        url = window.location.href
        print(f"{url=}")
        base_url_parts = url.split("/", 3)
        base_url = "/".join(base_url_parts[:3])
        if window.location.href.startswith("https://"):
            window.location.href = f"https://editor.plantuml.com/uml/" + document["encoded-input"].value
        else:
            window.location.href = f"{base_url}/?uml=" + document["encoded-input"].value

    # Bind the function to the 'click' event of the toggle button
    document["update-url-btn"].bind("click", update_url)

    # Function to copy to Markdown format
    def copy_to_markdown(event):
        encoded = document["encoded-input"].value
        is_dark_mode = 'dark-mode' in document.body.classList
        suffix = 'd' if is_dark_mode else ''
        img_url = f"{plantuml_server}/plantuml/{suffix}svg/{encoded}"
        link_url = f"https://editor.plantuml.com/uml/" + encoded
        markdown_text = f"[![]({img_url})]({link_url})"
        window.navigator.clipboard.writeText(markdown_text)  # Copy to the clipboard

    document["copy-md-btn"].bind("click", copy_to_markdown)



    def open_window(event):
        global external_win
        if external_win and not external_win.closed:
            img_url = external_win.document.getElementById("external-image").src
            external_win.close()
            external_win = None
            document["image-container"].style['display'] = 'block'
            document["editor"].style.width = f'{round(window.innerWidth/2-160)}px'
            document["diagram-image"].attrs['src'] = img_url
            return

        w = round(window.innerWidth * .75)
        h = round(window.innerHeight * .75)
        options = f"width={w},height={h},toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,copyhistory=no"

        document["image-container"].style['display'] = 'none'
        document["editor"].style.width = f'{window.innerWidth - 20}px'

        img_url = document["diagram-image"].attrs['src']

        external_win = window.open('', '_blank', options)

        html_content = f'''
        <html>
        <body>
        <img id="external-image" src="{img_url}">
        </body>
        </html>
        '''

        external_win.document.write(html_content)
        external_win.document.close()

    document["open-window-btn"].bind("click", open_window)

    # Function to paste the clipboard text into the editor
    def paste_from_clipboard(event):
        # Use the clipboard API to read the text
        window.navigator.clipboard.readText().then(paste_text)

    # Function that pastes the retrieved text into the editor
    def paste_text(text):
        editor = window.ace.edit("editor")  # Retrieve the ACE editor
        editor.setValue(text, 1)  # Overwrite all content with the clipboard text, and place the cursor at the end

    # Bind the paste_from_clipboard function to the "Paste" button
    document["paste-btn"].bind("click", paste_from_clipboard)

    def save_file(event):
        # Generate an encoded date in the format YYYY_MM_DD__HH_MM_SS with JavaScript
        current_time = window.Date.new().toISOString().replace(":", "_").replace("-", "_").split(".")[0].replace("T", "__")
        
        # Propose the encoded date as the default file name
        filename = window.prompt("This will be saved locally in your browser:", f"diagram_{current_time}")
        
        if filename:
            # Retrieve the content from the editor
            editor_value = window.ace.edit("editor").getValue()
            print(editor_value)
            # Save in LocalStorage with the key provided by the user
            window.localStorage.setItem("pl_" + filename, editor_value)
            
            # Confirmation of the save
            print(f"Content saved under the key : {filename}")

    # Bind the save_file function to the "Save" button
    document["save-btn"].bind("click", save_file)


    def load_file(event):
        # Retrieve all keys that start with "pl_"
        keys = [window.localStorage.key(i) for i in range(window.localStorage.length) if window.localStorage.key(i).startswith("pl_")]
        
        if not keys:
            window.alert("Nothing to reload.")
            return

        # Sort the keys alphabetically, including the "pl_" prefix
        keys.sort()  # Sort directly, including the 'pl_' prefix

        # Create a background div that covers the entire page
        back_div = document.createElement('div')
        back_div.id = "back-div"
        
        # Function to close both divs when clicking on back_div
        def close_on_click(event):
            back_div.remove()
            load_div.remove()

        # Bind click event to back_div to close it when clicked
        back_div.bind("click", close_on_click)
                
        # Add the back_div to the document
        document.body <= back_div
    
        # Create a dynamic div to display the key options
        load_div = document.createElement('div')
        load_div.id = "load-div"
        
        # Insert table instead of buttons
        load_div.innerHTML = "<strong>Available Files</strong><br><br>"
        
        table = html.TABLE()
        table_body = html.TBODY()

        # Add rows for each file
        for i, key in enumerate(keys):
            row = html.TR()

            # Delete button column
            delete_button = html.BUTTON(Class="delete-btn")
            delete_button <= html.I(Class="fas fa-trash")  # Add Font Awesome trash icon inside the button
            delete_button.bind("click", lambda ev, k=key: delete_file(k))
            delete_col = html.TD(delete_button)
            delete_col.style.width = "1%"  # Set a small width for the delete column
            
            # File name column
            file_col = html.TD()
            file_name_span = html.SPAN(key[3:])
            file_col.bind("click", lambda ev, k=key: load_key(k))  # Bind click event to the span
            file_col <= file_name_span  # Add span to the file_col

            # Append columns to row
            row <= delete_col
            row <= file_col

            # Append row to the table body
            table_body <= row

        # Append table body to the table
        table <= table_body

        # Add table to load_div
        load_div <= table
        
        # Add the div to the document
        document.body <= load_div

    def delete_file(chosen_key):
        # Delete the file from LocalStorage
        window.localStorage.removeItem(chosen_key)
        
        # Reload the div to reflect the changes
        document["load-div"].remove()
        load_file(None)


    def load_key(chosen_key):
        # Load the value associated with the chosen key
        editor_value = window.localStorage.getItem(chosen_key)
        
        # Reload the value into the editor
        window.ace.edit("editor").setValue(editor_value)
        print(f"Content loaded from the key : {chosen_key}")
        
        # Remove the div after loading the data
        document["load-div"].remove()
        document["back-div"].remove()

    # Bind the load_file function to the "Load" button
    document["load-btn"].bind("click", load_file)


    def check_external_win():
        global external_win
        if external_win and external_win.closed and document["image-container"].style['display'] == 'none':
            img_url = external_win.document.getElementById("external-image").src
            external_win = None
            document["image-container"].style['display'] = 'block'
            document["editor"].style.width = f'{round(window.innerWidth/2-160)}px'
            document["diagram-image"].attrs['src'] = img_url

    # Only solution to restore image when closing the external window
    timer.set_interval(check_external_win, 1000)

</script>

<!-- Default Statcounter code for Editor.plantuml.com
https://editor.plantuml.com -->
<script type="text/javascript">
var sc_project=13062078; 
var sc_invisible=1; 
var sc_security="d4f45758"; 
</script>
<script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async=""></script>
<noscript><div class="statcounter"><a title="site stats"
href="https://statcounter.com/" target="_blank"><img
class="statcounter"
src="https://c.statcounter.com/13062078/0/d4f45758/1/"
alt="site stats"
referrerPolicy="no-referrer-when-downgrade"></a></div></noscript>
<!-- End of Statcounter Code -->




<!--[selectrongo:done]--><span id="ezoic-pub-ad-placeholder-100"></span><span data-ez-ph-id="100" style="float:none !important;min-width:0px;min-height:0px;line-height:0px;padding:0;box-sizing:content-box;display:inline-block;max-width:100% !important;"></span><script>!function(){function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}!function(){function e(){return document.querySelector('ins[data-anchor-shown="true"][data-anchor-status="displayed"]')}function r(t){var e=t.querySelector("iframe");e&&requestAnimationFrame((function(){var r=parseFloat(getComputedStyle(e).height);isNaN(r)||t.style.setProperty("height","".concat(r+5,"px"),"important")}))}function n(t){t.style.setProperty("width","100%","important"),t.style.maxWidth="none"}function o(t){var e=t.querySelector("iframe");e&&(e.style.setProperty("display","block","important"),e.style.setProperty("margin","0 auto","important"));var r=t.querySelector("[id$='__container__']");r&&r.style.setProperty("display","contents","important")}function a(e){if(e){var a=new WeakSet;a.has(e)||(a.add(e),new MutationObserver((function(a){var i,u=function(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(a);try{for(u.s();!(i=u.n()).done;){var c=i.value;"style"===c.attributeName?(r(e),n(e),o(e)):"attributes"===c.type&&"data-google-query-id"===c.attributeName&&o(e)}}catch(t){u.e(t)}finally{u.f()}})).observe(e,{attributes:!0,attributeFilter:["style","data-google-query-id"]}))}}!function(){var t=e();if(t)return r(t),n(t),o(t),void a(t);var i=new MutationObserver((function(){var t=e();t&&(r(t),n(t),o(t),a(t),i.disconnect())}));i.observe(document.body,{attributes:!0,subtree:!0,childList:!0})}()}()}();</script>
<script type="text/javascript" data-cfasync="false">!function(){var e=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(0==n.complete||void 0!==n.readyState&&n.readyState<4){var o=n.getAttribute("src")||n.currentSrc;void 0!==n.readyState&&0==n.readyState?n.addEventListener("loadstart",(function(e){var t=e.currentTarget.getAttribute("src")||e.currentSrc;window.ezorqs(e,t)})):(o=n.getAttribute("src")||n.currentSrc,window.ezorqs(n,o)),n.addEventListener("load",(function(e){var t=e.currentTarget.getAttribute("src")||e.srcElement.currentSrc;window.ezorqe(e,t)})),n.addEventListener("loadeddata",(function(e){var t=e.currentTarget.getAttribute("src")||e.srcElement.currentSrc;window.ezorqe(e,t)})),n.addEventListener("error",(function(e){var t=e.currentTarget.getAttribute("src")||e.srcElement.currentSrc;window.ezorqe(e,t)}))}}};function t(e){for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].href==e)return!0;return!1}__ez_addAllListeners=function(){e(0,document.querySelectorAll("img")),e(0,document.querySelectorAll("video")),e(0,document.querySelectorAll("audio")),function(e){for(var r=0;r<e.length;r++){var n=e[r];if(("preload"==n.getAttribute("rel")||"stylesheet"==n.getAttribute("rel"))&&null!=n.getAttribute("href")&&t(n.getAttribute("href"))){window.ezorqs(n,n.getAttribute("href"));var o=document.createElement("img");o.onerror=function(e){void 0!==e.path&&void 0!==e.path[0].currentSrc?window.ezorqe(n,e.path[0].currentSrc):void 0!==e.srcElement&&void 0!==e.srcElement.href&&window.ezorqe(n,e.srcElement.href)},o.src=n.getAttribute("href")}}}(document.querySelectorAll("link")),void 0!==window.__ez.ssaf&&window.__ez.ssaf.indexOf(16)>-1&&void 0!==window.__ez.sshsdef&&!1===window.__ez.sshsdef&&Element.prototype.addEventListener&&("function"==typeof window.onload&&(window.addEventListener("load",window.onload),window.onload=null),"function"==typeof document.onload&&(document.addEventListener.addEventListener("load",document.onload),document.onload=null))},__ez.queue.addFunc("__ez_addAllListeners","__ez_addAllListeners",null,!1,["/detroitchicago/tulsa.js"],!0,!0,!0,!0)}();</script>
<script data-ezscrex="false" data-cfasync="false">
		window.humixPlayers = window.humixPlayers || [];
		window.humixPlayers.push({ target: 'autoinsert', isGenerated: true });
	</script>
<script type='text/javascript' style='display:none;' async>if (typeof window.__ez !== 'undefined' && window.__ez?.queue?.addFileOnce) {window.__ez.queue.addFileOnce('identity', 'https://go.ezodn.com/detroitchicago/indy.js?cb=77&gcb=0', true, [], true, false, false, true);} </script>
<script src="/detroitchicago/ezonetap.js?gcb=195-5&cb=8"></script><script data-cfasync="false">function _emitEzConsentEvent(){var customEvent=new CustomEvent("ezConsentEvent",{detail:{ezTcfConsent:window.ezTcfConsent},bubbles:true,cancelable:true,});document.dispatchEvent(customEvent);}
(function(window,document){function _setAllEzConsentTrue(){window.ezTcfConsent.loaded=true;window.ezTcfConsent.store_info=true;window.ezTcfConsent.develop_and_improve_services=true;window.ezTcfConsent.measure_ad_performance=true;window.ezTcfConsent.measure_content_performance=true;window.ezTcfConsent.select_basic_ads=true;window.ezTcfConsent.create_ad_profile=true;window.ezTcfConsent.select_personalized_ads=true;window.ezTcfConsent.create_content_profile=true;window.ezTcfConsent.select_personalized_content=true;window.ezTcfConsent.understand_audiences=true;window.ezTcfConsent.use_limited_data_to_select_content=true;window.ezTcfConsent.select_personalized_content=true;}
function _clearEzConsentCookie(){document.cookie="ezCMPCookieConsent=tcf2;Domain=.plantuml.com;Path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT";}
_clearEzConsentCookie();if(typeof window.__tcfapi!=="undefined"){window.ezgconsent=false;var amazonHasRun=false;function _ezAllowed(tcdata,purpose){return(tcdata.purpose.consents[purpose]||tcdata.purpose.legitimateInterests[purpose]);}
function _handleConsentDecision(tcdata){window.ezTcfConsent.loaded=true;if(!tcdata.vendor.consents["347"]&&!tcdata.vendor.legitimateInterests["347"]){window._emitEzConsentEvent();return;}
window.ezTcfConsent.store_info=_ezAllowed(tcdata,"1");window.ezTcfConsent.develop_and_improve_services=_ezAllowed(tcdata,"10");window.ezTcfConsent.measure_content_performance=_ezAllowed(tcdata,"8");window.ezTcfConsent.select_basic_ads=_ezAllowed(tcdata,"2");window.ezTcfConsent.create_ad_profile=_ezAllowed(tcdata,"3");window.ezTcfConsent.select_personalized_ads=_ezAllowed(tcdata,"4");window.ezTcfConsent.create_content_profile=_ezAllowed(tcdata,"5");window.ezTcfConsent.measure_ad_performance=_ezAllowed(tcdata,"7");window.ezTcfConsent.use_limited_data_to_select_content=_ezAllowed(tcdata,"11");window.ezTcfConsent.select_personalized_content=_ezAllowed(tcdata,"6");window.ezTcfConsent.understand_audiences=_ezAllowed(tcdata,"9");window._emitEzConsentEvent();}
function _handleGoogleConsentV2(tcdata){if(!tcdata||!tcdata.purpose||!tcdata.purpose.consents){return;}
var googConsentV2={};if(tcdata.purpose.consents[1]){googConsentV2.ad_storage='granted';googConsentV2.analytics_storage='granted';}
if(tcdata.purpose.consents[3]&&tcdata.purpose.consents[4]){googConsentV2.ad_personalization='granted';}
if(tcdata.purpose.consents[1]&&tcdata.purpose.consents[7]){googConsentV2.ad_user_data='granted';}
if(googConsentV2.analytics_storage=='denied'){gtag('set','url_passthrough',true);}
gtag('consent','update',googConsentV2);}
__tcfapi("addEventListener",2,function(tcdata,success){if(!success||!tcdata){window._emitEzConsentEvent();return;}
if(!tcdata.gdprApplies){_setAllEzConsentTrue();window._emitEzConsentEvent();return;}
if(tcdata.eventStatus==="useractioncomplete"||tcdata.eventStatus==="tcloaded"){if(typeof gtag!='undefined'){_handleGoogleConsentV2(tcdata);}
_handleConsentDecision(tcdata);if(tcdata.purpose.consents["1"]===true&&tcdata.vendor.consents["755"]!==false){window.ezgconsent=true;(adsbygoogle=window.adsbygoogle||[]).pauseAdRequests=0;}
if(window.__ezconsent){__ezconsent.setEzoicConsentSettings(ezConsentCategories);}
__tcfapi("removeEventListener",2,function(success){return null;},tcdata.listenerId);if(!(tcdata.purpose.consents["1"]===true&&_ezAllowed(tcdata,"2")&&_ezAllowed(tcdata,"3")&&_ezAllowed(tcdata,"4"))){if(typeof __ez=="object"&&typeof __ez.bit=="object"&&typeof window["_ezaq"]=="object"&&typeof window["_ezaq"]["page_view_id"]=="string"){__ez.bit.Add(window["_ezaq"]["page_view_id"],[new __ezDotData("non_personalized_ads",true),]);}}}});}else{_setAllEzConsentTrue();window._emitEzConsentEvent();}})(window,document);</script></body></html>